import{a as I,Q as V}from"./QCard.500bb8bd.js";import{Q as U,a as f}from"./QForm.bbfa43b9.js";import{Q as q}from"./QBtn.f527723b.js";import{Q as k}from"./QCardActions.8f678b55.js";import{Q as R}from"./QPage.4944d9b6.js";import{Q as A,a as F}from"./QHeader.dfbbe630.js";import{l as o,K as L,L as N,x as D,o as g,v as y,w as r,f as a,e as x,a as Q,r as H,F as T,Y as j,Z as z,t as Z,p as $,g as J}from"./index.ec299b2b.js";import{H as K}from"./HomeToolbar.35bd5bd9.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.6793015f.js";import"./use-key-composition.d1d1fa97.js";import"./focus-manager.e0009633.js";import"./scroll.a4a60eb6.js";const O=d=>($("data-v-2610f025"),d=d(),J(),d),W=O(()=>x("div",{class:"text-h6 text-center"},"Registro de Usu\xE1rio",-1)),Y={class:"error-list"},G={__name:"SignupPage",setup(d){const _=o(""),m=o(""),n=o(""),u=o(""),h=o(!1),w=L();N();const l=o([]),p=o(null),c=o(null),i=o(null),b=o(null),S=()=>{if(l.value=[],n.value!==u.value){i.value="As senhas n\xE3o coincidem";return}h.value=!0,z.post("/users/register/",{username:_.value,email:m.value,password:n.value,password_confirmation:u.value}).then(e=>{console.log("Resposta completa do servidor:",e),console.log("Dados recebidos:",e.data),w.push("/signup-success")}).catch(e=>{console.error("Erro completo:",e),e.response&&e.response.data?(console.error("Status de erro:",e.response.status),console.error("Dados de erro recebidos:",e.response.data),e.response.data.email&&l.value.push("Email informado j\xE1 est\xE1 em uso."),e.response.data.username&&l.value.push("Usu\xE1rio informado j\xE1 est\xE1 em uso."),l.value.length||l.value.push("Erro desconhecido. Tente novamente mais tarde.")):(console.error("Erro de conex\xE3o ou outro erro:",e.message),l.value=["Erro de conex\xE3o. Verifique sua rede."])}).finally(()=>{console.log("Requisi\xE7\xE3o finalizada"),h.value=!1})},E=()=>{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m.value)?p.value=null:p.value="O formato do email \xE9 inv\xE1lido"},v=()=>{/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\W_]).{8,}$/.test(n.value)?c.value=null:c.value="A senha deve ter pelo menos 8 caracteres, incluindo letras mai\xFAsculas, min\xFAsculas, n\xFAmeros e s\xEDmbolos.",u.value!==n.value?i.value="As senhas n\xE3o coincidem":i.value=null},P=()=>{w.push("/login")};return(e,t)=>{const C=D("q-alert");return g(),y(A,{view:"hHh lpR fFf"},{default:r(()=>[a(K),a(F,null,{default:r(()=>[a(R,{class:"flex flex-center"},{default:r(()=>[a(I,{class:"q-pa-lg",style:{width:"350px","margin-top":"40px"}},{default:r(()=>[a(V,null,{default:r(()=>[W]),_:1}),a(V,null,{default:r(()=>[l.value.length?(g(),y(C,{key:0,color:"negative",icon:"warning",class:"custom-alert",dense:"",style:{width:"100%"}},{default:r(()=>[x("ul",Y,[(g(!0),Q(T,null,H(l.value,(s,B)=>(g(),Q("li",{key:B,class:"error-message"},Z(s),1))),128))])]),_:1})):j("",!0),a(U,{onSubmit:S},{default:r(()=>[a(f,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=s=>_.value=s),label:"Nome de usu\xE1rio",outlined:"",required:"",class:"q-mb-md",error:!!b.value,"error-message":b.value},null,8,["modelValue","error","error-message"]),a(f,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),label:"Email",type:"email",outlined:"",required:"",class:"q-mb-md",error:!!p.value,"error-message":p.value,onBlur:E},null,8,["modelValue","error","error-message"]),a(f,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=s=>n.value=s),label:"Senha",type:"password",outlined:"",required:"",class:"q-mb-md",onBlur:v,onInput:v,error:!!c.value,"error-message":c.value},null,8,["modelValue","error","error-message"]),a(f,{modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=s=>u.value=s),label:"Confirme a Senha",type:"password",outlined:"",required:"",class:"q-mb-md",onBlur:v,onInput:v,error:!!i.value,"error-message":i.value},null,8,["modelValue","error","error-message"]),a(q,{label:"Registrar",type:"submit",color:"primary",class:"full-width q-mt-md",loading:h.value},null,8,["loading"])]),_:1}),a(k,{align:"center",class:"q-pt-none"},{default:r(()=>[a(q,{flat:"",label:"J\xE1 tenho uma conta",color:"primary",onClick:P})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};var pe=M(G,[["__scopeId","data-v-2610f025"]]);export{pe as default};
