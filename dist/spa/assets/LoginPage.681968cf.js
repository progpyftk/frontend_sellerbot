import{a as Q,Q as m}from"./QCard.62104bc9.js";import{Q as x,a as p}from"./QForm.78dcb37a.js";import{Q as h}from"./QBtn.c8b86ce7.js";import{Q as V}from"./QPage.4f317bef.js";import{Q as q,a as b}from"./QLayout.814aec38.js";import{l as r,K as w,L as y,x as C,o as c,v as f,w as t,f as a,h as L,t as k,Y as E,e as N,Z as S}from"./index.014f403c.js";import{H as T}from"./HomeToolbar.590657d5.js";import"./use-dark.4a99548d.js";import"./use-key-composition.b0758932.js";import"./focus-manager.02c94ad5.js";import"./scroll.47a750ae.js";import"./QHeader.133dd447.js";import"./plugin-vue_export-helper.21dcd24c.js";const U=N("div",{class:"text-h6 text-center"},"Login",-1),A={__name:"LoginPage",setup(B){const n=r(""),u=r(""),i=r(!1),l=r(null),g=w(),v=y(),_=()=>{i.value=!0,l.value=null,S.post("/users/login/",{username:n.value,password:u.value}).then(e=>{console.log("Login Response:",e.data);const o=e.data.access,d=e.data.refresh,s=e.data.user;v.loginUser(o,d,s),g.push("/app")}).catch(e=>{var o;e.response&&e.response.data?l.value=e.response.data.detail||e.response.data.non_field_errors||"Erro ao fazer login. Verifique suas credenciais.":l.value="Erro de rede. Tente novamente mais tarde.",console.error("Erro no login:",((o=e.response)==null?void 0:o.data)||e)}).finally(()=>{i.value=!1})};return(e,o)=>{const d=C("q-alert");return c(),f(q,{view:"hHh lpR fFf"},{default:t(()=>[a(T),a(b,null,{default:t(()=>[a(V,{class:"flex flex-center"},{default:t(()=>[a(Q,{class:"q-pa-lg",style:{width:"350px","margin-top":"40px"}},{default:t(()=>[a(m,null,{default:t(()=>[U]),_:1}),a(m,null,{default:t(()=>[l.value?(c(),f(d,{key:0,color:"negative",icon:"warning",class:"q-mb-md"},{default:t(()=>[L(k(l.value),1)]),_:1})):E("",!0),a(x,{onSubmit:_},{default:t(()=>[a(p,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s),label:"Email ou Nome de Usu\xE1rio",type:"text",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),a(p,{modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]=s=>u.value=s),label:"Senha",type:"password",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),a(h,{label:"Login",type:"submit",color:"primary",class:"full-width q-mt-md",loading:i.value},null,8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{A as default};
